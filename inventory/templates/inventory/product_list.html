{% load static %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">

<div class="container">
    <h2>Products</h2>

    <a href="{% url 'add_product' %}" class="btn-primary">+ Add Product</a>
    <tbody>
    {% for product in products %}
        <tr {% if product.quantity <= product.low_stock_limit %}class="table-danger"{% endif %}>
            <td>{{ product.name }}</td>
            <td>{{ product.category }}</td>
            <td>{{ product.quantity }}</td>
            <td>{{ product.price }}</td>
            <td>{{ product.low_stock_limit }}</td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="5" class="text-center">No products found.</td>
        </tr>
    {% endfor %}
</tbody>


    <table class="table">
        <tr>
            <th>Name</th>
            <th>Category</th>
            <th>Qty</th>
            <th>Price</th>
            <th>Actions</th>
        </tr>

        {% for p in products %}
        <tr>
            <td>{{ p.name }}</td>
            <td>{{ p.category }}</td>
            <td>{{ p.quantity }}</td>
            <td>{{ p.price }}</td>

            <td>
                <a href="{% url 'edit_product' p.id %}" class="btn-edit">Edit</a>
                <a href="{% url 'delete_product' p.id %}" class="btn-delete">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>

<style>
.table {
    width: 80%;
    margin-top: 20px;
}
.table th, .table td {
    padding: 10px;
}
.btn-edit { color: blue; }
.btn-delete { color: red; }
</style>
