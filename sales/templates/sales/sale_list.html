{% extends "base.html" %}
{% block page_title %}Sales List{% endblock %}
{% block content %}

<div class="page-header">
    <h2>Sales</h2>
    <a href="{% url 'add_sale' %}" class="btn-primary">+ Add Sale</a>
</div>

<div class="card">
    <table class="styled-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Product</th>
                <th>Customer</th>
                <th>Qty</th>
                <th>Total</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>

        <tbody>
            {% for sale in sales %}
            <tr>
                <td>{{ sale.id }}</td>
                <td>{{ sale.product.name }}</td>
                <td>{{ sale.customer.name }}</td>
                <td>{{ sale.quantity }}</td>
                <td>â‚¹{{ sale.total_price }}</td>
                <td>{{ sale.date }}</td>

                <td>
                    <a href="{% url 'edit_sale' sale.id %}" class="btn-sm primary">Edit</a>
                    <a href="{% url 'delete_sale' sale.id %}" class="btn-sm danger">Delete</a>
                    <a href="{% url 'invoice_view' sale.id %}" class="btn-sm secondary">Invoice</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" class="empty">No sales recorded</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
